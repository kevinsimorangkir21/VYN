---
import Badge from "@/components/Badge.astro";
import LinkedInIcon from "@/components/icons/LinkedIn.astro";
import MailIcon from "@/components/icons/Mail.astro";
import Formulir from "@/components/icons/Formulir.astro";
import Instagram from "@/components/icons/Instagram.astro";
import Data from "./icons/Data.astro";
import Brush from "./icons/Brush.astro";

const personalImageAlt = "Kevin Simorangkir";
---

<div
  class="relative max-w-4xl mx-auto px-4 sm:px-6 py-10 sm:py-16 text-center flex flex-col items-center justify-center"
>
  <!-- Foto Profil -->
  <div class="relative w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 mb-3 group">
    <div
      class="absolute inset-0 rounded-full p-[3px] bg-[conic-gradient(from_0deg,#58c4c1,#3bb3b0,#58c4c1)] animate-spin-slow group-hover:animate-pulse-glow"
    >
      <div class="absolute inset-[3px] rounded-full bg-white dark:bg-[#161616]">
      </div>
    </div>
    <img
      class="absolute inset-[6px] w-[calc(100%-12px)] h-[calc(100%-12px)] object-cover rounded-full shadow-lg group-hover:scale-105 transition-transform duration-500"
      src="/KVNS.webp"
      alt={personalImageAlt}
      loading="lazy"
    />
  </div>

  <!-- Badge -->
  <Badge
    class="px-4 py-2 text-xs sm:text-sm font-semibold border border-[#58c4c1]/50 text-[#58c4c1] bg-[#58c4c1]/10 rounded-full shadow-md backdrop-blur-sm mb-5 relative overflow-hidden"
  >
    <span class="relative z-10"
      >Open To Work — Data Analyst / UI/UX Designer</span
    >
    <div
      class="absolute inset-0 bg-gradient-to-r from-[#58c4c1]/30 via-[#58c4c1]/20 to-[#58c4c1]/30 opacity-0 group-hover:opacity-100 transition-opacity duration-700"
    >
    </div>
  </Badge>

  <!-- Typing Heading -->
  <h1
    id="typing-text"
    class="text-3xl sm:text-5xl md:text-6xl font-bold tracking-tight text-gray-900 dark:text-white leading-tight opacity-0 transition-opacity duration-1000"
  >
  </h1>

  <!-- Deskripsi -->
  <p
    id="hero-desc"
    class="mt-3 sm:mt-4 opacity-0 text-sm sm:text-base md:text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed transition-all duration-700 px-2"
  >
    I’m a graduate of <strong>Informatics Engineering</strong> passionate about data
    analysis and user experience design. With experience in
    <strong>data programming</strong>, <strong>UI/UX prototype</strong>, and
    <strong>web development</strong>, I aim to create meaningful and efficient
    digital experiences. Currently, I’m exploring new technologies in both
    <strong>data analytics</strong> and
    <strong>interface design</strong>.
  </p>

  <!-- Tombol Sosial -->
  <nav
    id="hero-buttons"
    class="grid grid-cols-2 sm:flex sm:flex-wrap justify-center gap-2 sm:gap-3 md:gap-4 mt-8 w-full max-w-2xl mx-auto opacity-0 transition-all duration-700 px-2"
  >
    <a href="mailto:vin.simorangkir81@gmail.com" class="social-btn">
      <MailIcon class="size-4 sm:size-5" />
      <span>Contact</span>
    </a>
    <a href="https://www.linkedin.com/in/kevinsimorangkir/" class="social-btn">
      <LinkedInIcon class="size-4 sm:size-5" />
      <span>LinkedIn</span>
    </a>
    <a href="https://www.instagram.com/vins.ch" class="social-btn">
      <Instagram class="size-4 sm:size-5" />
      <span>Instagram</span>
    </a>
    <a
      href="https://drive.google.com/file/d/1F9WT054aWFXBimIBtUKZUarpIro8BQZw/view?usp=sharing"
      class="social-btn"
    >
      <Formulir class="size-4 sm:size-5" />
      <span>CV</span>
    </a>
    <a
      href="https://drive.google.com/file/d/1bL9ht_Zh0IMhR8pXQYuVN-cvziKeppcj/view?usp=sharing"
      class="social-btn"
    >
      <Brush class="size-4 sm:size-5" />
      <span>Portfolio (UI/UX)</span>
    </a>
    <a
      href="https://drive.google.com/file/d/1p08WIXh4iXn74h3_A0N9yddU89fTXypx/view?usp=drive_link"
      class="social-btn"
    >
      <Data class="size-4 sm:size-5" />
      <span>Portfolio (Data)</span>
    </a>
  </nav>
</div>

<!-- Script Typing -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const el = document.getElementById("typing-text");
    const desc = document.getElementById("hero-desc");
    const buttons = document.getElementById("hero-buttons");

    if (!el || !desc || !buttons) return;

    const texts = [
      "Hello, I'm Kevin Simorangkir",
      "I'm a Data Analyst",
      "I'm a UI/UX Designer",
      "I'm a Tech Enthusiast",
    ];

    let textIndex = 0;
    let charIndex = 0;
    let isDeleting = false;

    const type = () => {
      const currentText = texts[textIndex];
      const displayedText = currentText.substring(0, charIndex);
      el.innerHTML = `<span class='text-main'>${displayedText}</span><span class='cursor blink'>|</span>`;

      if (!isDeleting && charIndex < currentText.length) {
        charIndex++;
        setTimeout(type, 70);
      } else if (isDeleting && charIndex > 0) {
        charIndex--;
        setTimeout(type, 40);
      } else {
        if (!isDeleting) {
          isDeleting = true;
          setTimeout(type, 1300);
        } else {
          isDeleting = false;
          textIndex = (textIndex + 1) % texts.length;
          setTimeout(type, 300);
        }
      }
    };

    setTimeout(() => {
      el.classList.remove("opacity-0");
      desc.classList.remove("opacity-0");
      buttons.classList.remove("opacity-0");
    }, 600);

    type();
  });
</script>

<style is:global>
  .social-btn {
    @apply flex items-center justify-center gap-2 px-3 py-2 rounded-md border border-[#58c4c1]/60
    text-xs sm:text-sm font-medium text-gray-800 dark:text-gray-200 transition-all duration-300 bg-white/5 dark:bg-transparent;
  }
  .social-btn svg {
    transition: transform 0.3s ease-out;
  }
  .social-btn:hover {
    @apply bg-[#58c4c1] text-white border-[#58c4c1] shadow-lg shadow-[#58c4c1]/40;
    transform: translateY(-2px);
  }
  .social-btn:hover svg {
    transform: translateY(-3px) scale(1.1);
  }

  /* Animasi lingkaran & glow */
  @keyframes spin-slow {
    0% {
      transform: rotate(0deg);
    }
    50% {
      transform: rotate(180deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
  @keyframes pulse-glow {
    0%,
    100% {
      filter: drop-shadow(0 0 6px #58c4c1aa);
    }
    50% {
      filter: drop-shadow(0 0 14px #58c4c1cc);
    }
  }
  .animate-spin-slow {
    animation: spin-slow 6s ease-in-out infinite;
  }
  .animate-pulse-glow {
    animation: pulse-glow 3s ease-in-out infinite;
  }

  .text-main {
    color: #58c4c1;
  }

  .cursor.blink {
    animation: blink 1s infinite;
  }
  @keyframes blink {
    0%,
    100% {
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
  }

  #typing-text {
    margin-bottom: 0.4rem;
    word-break: break-word;
  }

  html.dark {
    background-color: #161616;
  }
</style>
